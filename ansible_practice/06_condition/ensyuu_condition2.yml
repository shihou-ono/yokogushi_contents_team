---
- name: ensyuu_condition2
  hosts: vyos
  gather_facts: false

  tasks:
    - name: get_vrrp
      vyos_command:
        commands: ["show vrrrp","show ver","show configuration commands"]
      ignore_errors: true
      register: result
      when: inventory_hostname == 'vyos01'

    - name: debug result
      debug:
        msg: ok
      when:
        - inventory_hostname == 'vyos01'
        - result is succeeded

    - name: debug result
      debug:
        msg: "{{ result.stdout_lines[0] }}"
      when:
        - inventory_hostname == 'vyos01'
        - result is succeeded

    - name: debug result
      debug:
        msg: ng
      when:
        - inventory_hostname == 'vyos01'
        - result is failed