---
- name: regex_search
  hosts: localhost
  gather_facts: false
  vars:
    sample:
       test1
       test2
       test3
  tasks:
    - name: "search"
      debug:
        msg: "OK"
      loop:
        - "test2"
        - "exam1"
      when:
        - sample | regex_search(item)